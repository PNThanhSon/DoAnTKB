<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane xmlns="http://javafx.com/javafx/21"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="controllers.QuanLyTKBController">

    <top>
        <Label text="QUẢN LÝ THỜI KHÓA BIỂU"
               style="-fx-font-size:18px;-fx-font-weight:bold;"
               BorderPane.alignment="CENTER">
            <padding><Insets top="10" right="10" bottom="10" left="10"/></padding>
        </Label>
    </top>

    <center>
        <VBox spacing="8">
            <padding><Insets top="10" right="10" bottom="10" left="10"/></padding>

            <HBox spacing="6" alignment="CENTER_RIGHT">
                <Label text="Tìm MaTKB:"/>
                <TextField fx:id="txtSearch" promptText="Nhập mã TKB cần tìm"/>
                <Button text="Lọc"     onAction="#handleSearch"/>
                <Button text="Tải lại" onAction="#loadData"/>
            </HBox>

            <TableView fx:id="tableTKB" prefHeight="320">
                <columns>
                    <TableColumn fx:id="colMaTKB"   text="Mã TKB"        prefWidth="90"/>
                    <TableColumn fx:id="colNgayLap" text="Ngày lập"      prefWidth="110"/>
                    <TableColumn fx:id="colNgayAD"  text="Ngày áp dụng"  prefWidth="110"/>
                    <TableColumn fx:id="colBuoi"    text="Buổi"          prefWidth="70"/>
                    <TableColumn fx:id="colNguoiTao" text="Người tạo"    prefWidth="100"/>
                    <TableColumn fx:id="colMaHK"    text="Mã học kỳ"     prefWidth="120"/>
                </columns>
            </TableView>
        </VBox>
    </center>

    <bottom>
        <VBox spacing="8">
            <padding><Insets top="10" right="10" bottom="10" left="10"/></padding>

            <GridPane hgap="10" vgap="6">
                <columnConstraints>
                    <ColumnConstraints prefWidth="90"/>
                    <ColumnConstraints prefWidth="170"/>
                    <ColumnConstraints prefWidth="90"/>
                    <ColumnConstraints prefWidth="170"/>
                </columnConstraints>

                <Label text="Mã TKB:"        GridPane.rowIndex="0" GridPane.columnIndex="0"/>
                <TextField fx:id="txtMaTKB"  GridPane.rowIndex="0" GridPane.columnIndex="1"/>

                <Label text="Ngày lập:"      GridPane.rowIndex="0" GridPane.columnIndex="2"/>
                <DatePicker fx:id="dpNgayLap" GridPane.rowIndex="0" GridPane.columnIndex="3"/>

                <Label text="Ngày áp dụng:"  GridPane.rowIndex="1" GridPane.columnIndex="0"/>
                <TextField fx:id="txtNgayAD" GridPane.rowIndex="1" GridPane.columnIndex="1" promptText="dd/MM/yyyy"/>

                <Label text="Buổi:"          GridPane.rowIndex="1" GridPane.columnIndex="2"/>
                <TextField fx:id="txtBuoi"   GridPane.rowIndex="1" GridPane.columnIndex="3"/>

                <Label text="Người tạo:"     GridPane.rowIndex="2" GridPane.columnIndex="0"/>
                <TextField fx:id="txtNguoiTao" GridPane.rowIndex="2" GridPane.columnIndex="1"/>

                <Label text="Mã HK:"         GridPane.rowIndex="2" GridPane.columnIndex="2"/>
                <ComboBox fx:id="cbMaHK"     GridPane.rowIndex="2" GridPane.columnIndex="3"/>
            </GridPane>

            <HBox spacing="10" alignment="CENTER">
                <Button text="Thêm"    minWidth="90" onAction="#handleAdd"/>
                <Button text="Làm mới" minWidth="90" onAction="#clearForm"/>
            </HBox>
        </VBox>
    </bottom>
</BorderPane>
